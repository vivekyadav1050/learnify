<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Code Practice - Question List</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/questiondashboardstyleteacher.css')}}">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>
<body>

  <!-- Menu toggle checkbox -->
  <input type="checkbox" id="menu-toggle" />

  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <label for="menu-toggle" class="back-btn">
        <i class='bx bx-x'></i>
        <span>Close</span>
      </label>
    </div>
    <div class="sidebar-links">
      <a href="{{ url_for('testdashboad_for_instructor',subject_id=subject_id,section_name=section_name)}} " class="sidebar-link">
        <i class='bx bx-plus-circle'></i>
        <span>Create Test</span>
      </a>
      <a href="{{ url_for('leaderboard_for_student',subject_id=subject_id)}}" class="sidebar-link">
        <i class='bx bx-trophy'></i>
        <span>Leaderboard</span>
      </a>
      <a href="{{ url_for('instructor_dashboard')}}" class="sidebar-link">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
  <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"/>
</svg>
<span>Dashboard</span>
      </a>
      <a href="#" class="sidebar-link">
        <i class='bx bx-group'></i>
        <span>About Us</span>
      </a>
      <a href="#" class="sidebar-link">
        <i class='bx bx-bar-chart-alt'></i>
        <span>View Result</span>
      </a>
      <a href="/logout" class="sidebar-link logout-link">
        <i class='bx bx-log-out'></i>
        <span>Logout</span>
      </a>
    </div>
  </nav>
  

  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo-section">
        <div class="logo-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="35" fill="currentColor" class="bi bi-leaf-fill" viewBox="0 0 16 16">
  <path d="M1.4 1.7c.217.289.65.84 1.725 1.274 1.093.44 2.885.774 5.834.528 2.02-.168 3.431.51 4.326 1.556C14.161 6.082 14.5 7.41 14.5 8.5q0 .344-.027.734C13.387 8.252 11.877 7.76 10.39 7.5c-2.016-.288-4.188-.445-5.59-2.045-.142-.162-.402-.102-.379.112.108.985 1.104 1.82 1.844 2.308 2.37 1.566 5.772-.118 7.6 3.071.505.8 1.374 2.7 1.75 4.292.07.298-.066.611-.354.715a.7.7 0 0 1-.161.042 1 1 0 0 1-1.08-.794c-.13-.97-.396-1.913-.868-2.77C12.173 13.386 10.565 14 8 14c-1.854 0-3.32-.544-4.45-1.435-1.124-.887-1.889-2.095-2.39-3.383-1-2.562-1-5.536-.65-7.28L.73.806z"/>
</svg>
        </div>
        <div class="logo-text">
          <h1>Learnify</h1>
          <p>{{section_name}}</p>
        </div>
      </div>
      <label for="menu-toggle" class="menu-icon">
        <i class='bx bx-menu'></i>
      </label>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container main">
    <div class="top-bar">
      <div class="page-title">
        <h2>All Topic</h2>
        <p>Manage and organize your coding questions</p>
      </div>
      <a href="{{ url_for('add_question', subject_id=subject_id, section_name=section_name) }}" class="add-btn">
        <i class='bx bx-plus'></i>
        <span>Add Question</span>
      </a>
    </div>

    <div class="question-list">
      {% if questions %}
        {% for q in questions %}
        <div class="question-card">
          <div class="question-main">
            <!-- Question title link -->
            <a href="{{ url_for('editquestionbyteacher', q_id=q.q_id ,q_name=q.question_name,section_name=section_name,subject_id=subject_id) }}" class="question-link">
              <div class="question-number">{{ loop.index }}.</div>
              <div class="question-details">
                <span class="title">{{ q.question_name }}</span>
                <div class="progress-info">
                  <div class="progress">
                    <div class="progress-fill" style="width: {{ q.progress_percent or 0 }}%;"></div>
                    
                  </div>
Completion Rate  
                  <span class="percent">{{ (q.progress_percent or 0)|round(2) }}%</span>
                </div>
              </div>
            </a>
          </div>
          
          <div class="question-actions">
            <span class="difficulty {{ q.level_of_question|lower }}">
              {{ q.level_of_question }}
            </span>

            <form method="POST" 
              action="{{ url_for('deletequestion', subject_id=subject_id, section_name=section_name, q_id=q.q_id) }}" 
              onsubmit="return confirm('Are you sure you want to delete this question? \n {{q.question_name }}');">
              <button type="submit" class="delete-btn">
                <i class='bx bx-trash'></i>
              </button>
            </form>
          </div>
        </div>
        {% endfor %}
      {% else %}
        <div class="no-questions">
          <div class="no-questions-icon">
            <i class='bx bx-file-blank'></i>
          </div>
          <h3>No questions available</h3>
          <p>Click <b>+ Add Question</b> to create your first question!</p>
        </div>
      {% endif %}
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <p>Â© 2025 Code In. All rights reserved.</p>
      <div class="footer-links">
        <a href="#">
          <i class='bx bx-shield-quarter'></i>
          <span>Privacy Policy</span>
        </a>
        <a href="#">
          <i class='bx bx-book'></i>
          <span>Terms</span>
        </a>
        <a href="#">
          <i class='bx bx-envelope'></i>
          <span>Contact</span>
        </a>
      </div>
    </div>
  </footer>

</body>
</html>